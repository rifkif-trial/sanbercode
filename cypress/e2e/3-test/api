describe ('API Testing User', () => {
    it('List Users', () => {
        cy.request('GET', 'https://reqres.in/api/users?page=2')
          .then((response) => {
            expect(response.status).to.eq(200)
            expect(response.body).to.have.property('data')
            expect(response.body.data).to.be.an('array')
        })
    })
})

    it('Get Single User by ID', () => {
        cy.request('GET', 'https://reqres.in/api/users/2')
          .then((response) => {
            expect(response.status).to.eq(200)
            expect(response.body).to.have.property('data')

           // const user = response.body.data

           expect(response.body.data).to.have.property('id',5)
           expect(response.body.data).to.have.property('email')
          })
    })

    it('Create User', () => {
        cy.request({
          method: 'POST',
          url: 'https://reqres.in/api/users',
          body:{
            name: 'andi',
            job: 'tester'
          },
          headers: {
            'x-api-key':'reqres-free-v1'
          }
        })
          .then((response) => {
            expect(response.status).to.eq(201)
            expect(response.body).to.have.property('id')
            expect(response.body).to.have.property('name','andi')
            expect(response.body).to.have.property('job','tester')
        })
    })

